#!/bin/bash
# Command for running neovim

docker_image=thawk/spacevim-cpp

umask 022

mkdir -p "${HOME}/.cache/SpaceVim"
mkdir -p "${HOME}/.local/share/nvim"

docker run --rm \
    -it \
    -P \
    -u $(id -u ${USER}):$(id -g ${USER}) \
    -v "${HOME}":"${HOME}" \
    -v "${HOME}/.cache/SpaceVim/backup":"/myhome/.cache/SpaceVim/backup" \
    -v "${HOME}/.cache/SpaceVim/swap":"/myhome/.cache/SpaceVim/swap" \
    -v "${HOME}/.cache/SpaceVim/tags":"/myhome/.cache/SpaceVim/tags" \
    -v "${HOME}/.cache/SpaceVim/undofile":"/myhome/.cache/SpaceVim/undofile" \
    -w "${PWD}" \
    "${docker_image}" \
    -- "$@"

    # -v "${HOME}/.local/share/nvim":"/myhome/.local/share/nvim" \
