#!/bin/bash
# Command for running neovim

docker_image=thawk/spacevim-cpp

umask 022

mkdir -p "${HOME}/.cache/SpaceVim"
mkdir -p "${HOME}/.local/share/nvim"

docker run --rm \
    -it \
    -P \
    -u $(id -u ${USER}):$(id -g ${USER}) \
    -v "${HOME}":"${HOME}" \
    -v "${HOME}/.cache/SpaceVim":"/myhome/.cache/SpaceVim" \
    -v "${HOME}/.local/share/nvim":"/myhome/.local/share/nvim" \
    -w "${PWD}" \
    "${docker_image}" \
    -- "$@"

